(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[465],{2863:function(e,a,r){Promise.resolve().then(r.bind(r,1334))},3145:function(e,a,r){"use strict";r.d(a,{default:function(){return t.a}});var s=r(8461),t=r.n(s)},8461:function(e,a,r){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),function(e,a){for(var r in a)Object.defineProperty(e,r,{enumerable:!0,get:a[r]})}(a,{default:function(){return d},getImageProps:function(){return l}});let s=r(7043),t=r(5346),n=r(5878),i=s._(r(5084));function l(e){let{props:a}=(0,t.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(a))void 0===r&&delete a[e];return{props:a}}let d=n.Image},1334:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return x}});var s=r(7437),t=r(7160),n=r(6429),i=r(3145),l=r(7648),d=r(5475),o=r(2265);let c=e=>{let{size:a="lg",text:r="Loading..."}=e;return(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[(0,s.jsxs)("svg",{className:"animate-spin text-blue-500 dark:text-blue-400 ".concat("lg"===a?"h-8 w-8":"h-5 w-5"),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,s.jsx)("p",{className:"ml-2 text-gray-600 dark:text-gray-300 ".concat("lg"===a?"text-base":"text-sm"),children:r})]})},u=e=>{let{borderCodes:a,borderCountries:r,isLoading:t,currentCountryCode:n}=e;return a&&0!==a.length?(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-lg transition-colors duration-300",children:[(0,s.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,s.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[(0,s.jsx)("svg",{className:"h-5 w-5 mr-2 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-1.447-.894L15 4m0 13V4m0 0L9 7"})}),"Border Countries",(0,s.jsx)("span",{className:"ml-2 px-2 py-1 text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full",children:a.length})]})}),(0,s.jsx)("div",{className:"max-h-96 overflow-y-auto",children:t?(0,s.jsx)("div",{className:"p-6",children:(0,s.jsx)(c,{size:"sm",text:"Loading border countries..."})}):(0,s.jsx)("div",{className:"p-4",children:(0,s.jsx)("div",{className:"space-y-3",children:a.map(e=>{let a=r.find(a=>a.cca3===e),t=e===n;return(0,s.jsx)(l.default,{href:"/countries/".concat(e),className:"block p-3 rounded-lg border transition-all duration-200 ".concat(t?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500 hover:bg-gray-50 dark:hover:bg-gray-700"),children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.default,{src:a.flags.png,alt:"".concat(a.name.common," flag"),width:32,height:24,className:"rounded border border-gray-200 dark:border-gray-600 object-cover"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium truncate ".concat(t?"text-blue-700 dark:text-blue-300":"text-gray-900 dark:text-white"),children:a.name.common}),(0,s.jsxs)("p",{className:"text-xs truncate ".concat(t?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400"),children:[a.region," • ",a.subregion]})]}),t&&(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full",children:"Current"})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-8 h-6 bg-gray-200 dark:bg-gray-600 rounded border animate-pulse"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e}),(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Loading details..."})]})]}),(0,s.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},e)})})})})]}):(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-lg p-6 transition-colors duration-300",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,s.jsx)("svg",{className:"h-5 w-5 mr-2 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-1.447-.894L15 4m0 13V4m0 0L9 7"})}),"Border Countries"]}),(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"No Border Countries"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"This country doesn't share borders with any other countries. It might be an island nation or have unique geographical features."})]})]})};function x(){var e;let{code:a}=(0,d.useParams)(),r=(0,d.useRouter)(),l=(0,t.TL)(),x=(0,t.CG)(e=>e.countries.byCode[a]),m=(0,t.CG)(e=>e.countries.items),g=(0,t.CG)(e=>e.countries.status),h=(0,t.CG)(e=>e.countries.individualCountryStatus[a]||"idle"),b=(0,t.CG)(e=>e.countries.error),[y,p]=(0,o.useState)(!1);(0,o.useEffect)(()=>{!x&&a&&"loading"!==h&&"succeeded"!==h&&l((0,n.Kb)(a))},[x,a,l,h]),(0,o.useEffect)(()=>{if((null==x?void 0:x.borders)&&x.borders.length>0){let e=x.borders.filter(e=>!m.find(a=>a.cca3===e));e.length>0?(p(!0),Promise.all(e.map(e=>l((0,n.Kb)(e)))).finally(()=>{p(!1)})):p(!1)}else p(!1)},[null==x?void 0:x.borders,m,l]);let f=(null==x?void 0:x.borders)?m.filter(e=>{var a;return null===(a=x.borders)||void 0===a?void 0:a.includes(e.cca3)}):[],j="loading"===h||"loading"===g&&!x,v="failed"===h||"failed"===g&&!x;if(j)return(0,s.jsx)("main",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-10 transition-colors duration-300",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)("div",{className:"h-10 w-40 bg-gray-200 dark:bg-gray-700 rounded-xl animate-pulse"})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,s.jsx)("div",{className:"lg:col-span-3",children:(0,s.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden",children:(0,s.jsxs)("div",{className:"md:flex",children:[(0,s.jsx)("div",{className:"md:w-1/2 h-64 md:h-80 bg-gray-200 dark:bg-gray-700 animate-pulse"}),(0,s.jsxs)("div",{className:"p-8 md:w-1/2 space-y-4",children:[(0,s.jsx)("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),(0,s.jsx)("div",{className:"space-y-3",children:[...Array(8)].map((e,a)=>(0,s.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"},a))})]})]})})}),(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[(0,s.jsx)("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded mb-4 animate-pulse"}),(0,s.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0].map((e,a)=>(0,s.jsx)("div",{className:"h-12 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"},a))})]})})]}),(0,s.jsx)("div",{className:"mt-8 text-center",children:(0,s.jsx)(c,{text:"Loading country details..."})})]})});if(v||!x&&"succeeded"===h)return(0,s.jsx)("main",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-10 transition-colors duration-300",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsx)("button",{onClick:()=>r.push("/countries"),className:"mb-6 inline-flex cursor-pointer items-center px-4 py-2 bg-blue-500 dark:bg-blue-600 text-white rounded-xl hover:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 transition-colors duration-200",children:"← Back to Countries"}),(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)("svg",{className:"mx-auto h-16 w-16 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.312 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,s.jsx)("h3",{className:"text-lg font-medium text-red-600 dark:text-red-400 mb-2",children:"Country Not Found"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:b||"The requested country could not be found."})]})]})});if(!x)return(0,s.jsx)("main",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-10 transition-colors duration-300",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)(c,{text:"Loading country details..."})})})});let N=x.name.nativeName?Object.values(x.name.nativeName).map(e=>e.common).join(", "):"—",k=x.currencies?Object.values(x.currencies).map(e=>"".concat(e.name," (").concat(e.symbol,")")).join(", "):"—",w=x.languages?Object.values(x.languages).join(", "):"—";return(0,s.jsx)("main",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-10 transition-colors duration-300",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsx)("button",{onClick:()=>r.push("/countries"),className:"mb-6 inline-flex cursor-pointer items-center px-4 py-2 bg-blue-500 dark:bg-blue-600 text-white rounded-xl hover:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 transition-colors duration-200",children:"← Back to Countries"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,s.jsx)("div",{className:"lg:col-span-3",children:(0,s.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-lg overflow-hidden transition-colors duration-300",children:(0,s.jsxs)("div",{className:"md:flex",children:[(0,s.jsx)("div",{className:"md:w-1/2",children:(0,s.jsx)(i.default,{src:x.flags.png,alt:x.flags.alt||"".concat(x.name.common," flag"),width:560,height:400,className:"object-cover w-full h-64 md:h-full"})}),(0,s.jsxs)("div",{className:"p-8 md:w-1/2",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4 transition-colors duration-300",children:x.name.common}),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-4",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("p",{className:"text-gray-600 dark:text-gray-300 transition-colors duration-300",children:[(0,s.jsx)("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Official Name:"})," ",x.name.official]}),(0,s.jsxs)("p",{className:"text-gray-600 dark:text-gray-300 transition-colors duration-300",children:[(0,s.jsx)("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Native Name(s):"})," ",N]}),(0,s.jsxs)("p",{className:"text-gray-600 dark:text-gray-300 transition-colors duration-300",children:[(0,s.jsx)("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Population:"})," ",x.population.toLocaleString()]}),(0,s.jsxs)("p",{className:"text-gray-600 dark:text-gray-300 transition-colors duration-300",children:[(0,s.jsx)("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Region:"})," ",x.region]}),(0,s.jsxs)("p",{className:"text-gray-600 dark:text-gray-300 transition-colors duration-300",children:[(0,s.jsx)("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Subregion:"})," ",x.subregion||"—"]}),(0,s.jsxs)("p",{className:"text-gray-600 dark:text-gray-300 transition-colors duration-300",children:[(0,s.jsx)("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Capital:"})," ",(null===(e=x.capital)||void 0===e?void 0:e.join(", "))||"—"]}),(0,s.jsxs)("p",{className:"text-gray-600 dark:text-gray-300 transition-colors duration-300",children:[(0,s.jsx)("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Currencies:"})," ",k]}),(0,s.jsxs)("p",{className:"text-gray-600 dark:text-gray-300 transition-colors duration-300",children:[(0,s.jsx)("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Languages:"})," ",w]})]})})]})]})})}),(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsx)(u,{borderCodes:(null==x?void 0:x.borders)||[],borderCountries:f,isLoading:y,currentCountryCode:a})})]})]})})}},7160:function(e,a,r){"use strict";r.d(a,{CG:function(){return d},TL:function(){return l},h:function(){return i}});var s=r(1455),t=r(8575),n=r(6429);let i=(0,s.xC)({reducer:{countries:n.ZP},devTools:!1}),l=t.I0,d=t.v9},6429:function(e,a,r){"use strict";r.d(a,{ZP:function(){return l},kX:function(){return n},Kb:function(){return i}});let s=r(3464).Z.create({baseURL:"https://restcountries.com/v3.1",timeout:15e3});s.interceptors.request.use(e=>(console.log("Axios request:",{url:e.url,baseURL:e.baseURL,params:e.params,headers:e.headers}),e));var t=r(1455);let n=(0,t.hg)("countries/fetchAll",async()=>{let{data:e}=await s.get("/all?fields=".concat("name,flags,cca3,region,subregion,capital,population,currencies,languages,borders"));return e}),i=(0,t.hg)("countries/fetchByCode",async e=>{let{data:a}=await s.get("/alpha/".concat(e,"?fields=").concat("name,flags,cca3,region,subregion,capital,population,currencies,languages,borders"));return Array.isArray(a)?a[0]:a});var l=(0,t.oM)({name:"countries",initialState:{items:[],byCode:{},status:"idle",individualCountryStatus:{}},reducers:{},extraReducers:e=>{e.addCase(n.pending,e=>{e.status="loading",e.error=void 0}).addCase(n.fulfilled,(e,a)=>{for(let r of(e.status="succeeded",e.items=a.payload,a.payload))e.byCode[r.cca3]=r,e.individualCountryStatus[r.cca3]="succeeded"}).addCase(n.rejected,(e,a)=>{e.status="failed",e.error=a.error.message||"Failed to load countries"}).addCase(i.pending,(e,a)=>{let r=a.meta.arg;e.individualCountryStatus[r]="loading"}).addCase(i.fulfilled,(e,a)=>{let r=a.payload;e.byCode[r.cca3]=r,e.individualCountryStatus[r.cca3]="succeeded",e.items.find(e=>e.cca3===r.cca3)||e.items.push(r)}).addCase(i.rejected,(e,a)=>{let r=a.meta.arg;e.individualCountryStatus[r]="failed"})}}).reducer}},function(e){e.O(0,[610,878,971,117,744],function(){return e(e.s=2863)}),_N_E=e.O()}]);